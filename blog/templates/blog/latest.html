{% extends '_base.html' %}
{% load static %}
{% load blog_escaper %}

{% block title %}
  Blog
{% endblock  %}

{% block content %}
  <!-- Blog Header -->
<section id="blog-header">
  <div class="pt-5">
    <h2 class="display-4 text-center my-auto text-muted my-font pt-2">
      Teaching <span class="my-red"> - Reaching</span>
    </h2>
    <div class="container d-none d-md-block">
      <p class="text-light lead text-center mt-4"><a href="#" class=" btn px-5 btn-outline-primary mr-3 contact-button">Share </a>Your Knowledge</p>
      <p class="text-light lead text-right"> <a href="" class="btn px-5 btn-outline-primary mr-3 contact-button">Learn </a>How To Write One</p>
    </div>
  </div>
</section>

<!-- Blog Filter -->
<section id="blog-filter" class="muted-border bg-dark text-white mb-3">
  <h3 class="my-font text-center">Add Filter</h3>
  <div class="blog-container">
    <form action="" method="GET" class="p-4 mx-4">
      <div class="input-group mb-3">
        <div class="input-group-prepend">
          <span class="input-group-text">Title</span>
        </div>
        <input type="text" class="form-control" id="keyword" placeholder="Enter Title Or Keywords In The Text">
      </div>
      <div class="input-group mb-3">
        <div class="input-group-prepend">
          <span class="input-group-text">Category</span>
        </div>
        <select name="category" id="category" class="form-control">
          <option selected>All</option>
          <option value="sports">Sports</option>
          <option value="education">Education</option>
          <option value="business">Business</option>
          <option value="media">Media</option>
        </select>
      </div>

      <div class="input-group mb-3">
        <div class="input-group-prepend">
          <span class="input-group-text">Month</span>
        </div>
        <select name="month" id="month" class="form-control">
          <option selected >None</option>
          <option value="09-2020">Sep 2020</option>
          <option value="08-2020">Aug 2020</option>
          <option value="07-2020">Jul 2020</option>
          <option value="06-2020">Jun 2020</option>
        </select>
      </div>
    </form>
  </div>
</section>

<!-- Blog List -->
<section id="blog-list">
  <div class="blog-container">
    <div class="card-columns">
      
      {% for article  in articles %}

      <div class="card">
        {% if article.image %}
        <img class="card-img-top" src=" {{ article.image.url }} " alt="Card image cap">
        {% endif %}
        <div class="card-body bg-dark text-white">
          <a class="text-white" href=" {% url 'blog:detail' article.id article.slug %} ">
          <h5 class="card-title">{{ article.title }}</h5>
          </a>
          <p class="card-text">{{article.text|myescaper|truncatechars:100}}</p>
            <div class="blog-labels">
              {% for category in article.category.all %}
                <span class="badge badge-warning">{{ category.title }}</span>
              {% endfor %}
            </div>
            <p class="text-muted small text-right px-4"> {{article.owner.username}} </p>
        </div>
      </div>

      {% empty %}
        <h3>There is no articles here yet.</h3>
      {% endfor %}
      
    </div>
  </div>
</section>

<!-- Footer -->
<footer id='main-footer' class="bg-dark text-center text-white py-1">
  <div class="py-3" id="newsletter">
    <div class="container">
      <div class="row">
        <div class="col-md-5 align-self-center">
          <h4 class="my-font text-center">Keep In Touch With US</h4> 
        </div>
        <div class="col-md-7">
          <div class="d-flex justify-content-center">
          <form action="" class="form-inline py-3">
            <input type="email" class="form-control" placeholder="Email">       
            <button class="btn btn-outline-primary contact-button ml-2">Subscribe</button>
          </form>  
          </div>     
        </div>
      </div>
    </div>
  </div>
    <div class="container">
        <p>Copyright &copy; <span id="year"></span></p>
        <h4>Java blog</h4>
    </div>
</footer>

{% endblock  %}